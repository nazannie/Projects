{"ast":null,"code":"var _jsxFileName = \"/Users/anian/Desktop/Project/services-all/src/signup/signup.js\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport styles from \"./styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Paper from \"@material-ui/core/Paper\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { fire } from \"../config/fire\";\n\nclass SignupComponent extends React.Component {\n  constructor() {\n    super();\n\n    this.userTyping = (whichInput, event) => {\n      switch (whichInput) {\n        case \"email\":\n          this.setState({\n            email: event.target.value\n          });\n          break;\n\n        case \"password\":\n          this.setState({\n            password: event.target.value\n          });\n          break;\n\n        case \"passwordConfirmation\":\n          this.setState({\n            passwordConfirmation: event.target.value\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.formIsValid = () => this.state.password === this.state.passwordConfirmation;\n\n    this.submitSignup = e => {\n      e.preventDefault();\n\n      if (!this.formIsValid()) {\n        this.setState({\n          signupError: \"Passwords do not match\"\n        });\n        return;\n      }\n\n      fire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(authRes => {\n        const userObj = {\n          email: authRes.user.email\n        };\n        fire.firestore().collection(\"users\").doc(this.state.email).set(userObj).then(() => {\n          this.props.history.push(\"/login\");\n          alert(\"Welcome\");\n        }, dbErr => {\n          console.log(\"Failed to add user to the database: \", dbErr);\n          this.setState({\n            signupError: \"Failed to add user\"\n          });\n        });\n      }, authErr => {\n        console.log(\"Failed to create user: \", authErr);\n        this.setState({\n          signupError: \"Failed to add user\"\n        });\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      signupError: \"\"\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(\"main\", {\n      className: classes.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }), React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Sign Up!\"), React.createElement(\"form\", {\n      onSubmit: e => this.submitSignup(e),\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      required: true,\n      fullWidth: true,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"signup-email-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Enter Your Email\"), React.createElement(Input, {\n      autoComplete: \"email\",\n      autoFocus: true,\n      onChange: e => this.userTyping(\"email\", e),\n      id: \"signup-email-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      required: true,\n      fullWidth: true,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"signup-password-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Create A Password\"), React.createElement(Input, {\n      type: \"password\",\n      onChange: e => this.userTyping(\"password\", e),\n      id: \"signup-password-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      required: true,\n      fullWidth: true,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"signup-password-confirmation-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Confirm Your Password\"), React.createElement(Input, {\n      type: \"password\",\n      onChange: e => this.userTyping(\"passwordConfirmation\", e),\n      id: \"signup-password-confirmation-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Submit\")), this.state.signupError ? React.createElement(Typography, {\n      className: classes.errorText,\n      component: \"h5\",\n      variant: \"h6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.state.signupError) : null, React.createElement(\"h4\", {\n      className: classes.hasAccountHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Already Have An Account?\"), React.createElement(Link, {\n      className: classes.logInLink,\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Log In!\")));\n  }\n\n}\n\nexport default withStyles(styles)(SignupComponent);","map":{"version":3,"sources":["/Users/anian/Desktop/Project/services-all/src/signup/signup.js"],"names":["Link","React","styles","FormControl","InputLabel","Input","Paper","withStyles","CssBaseline","Typography","Button","fire","SignupComponent","Component","constructor","userTyping","whichInput","event","setState","email","target","value","password","passwordConfirmation","formIsValid","state","submitSignup","e","preventDefault","signupError","auth","createUserWithEmailAndPassword","then","authRes","userObj","user","firestore","collection","doc","set","props","history","push","alert","dbErr","console","log","authErr","render","classes","main","paper","form","submit","errorText","hasAccountHeader","logInLink"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport styles from \"./styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Paper from \"@material-ui/core/Paper\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { fire } from \"../config/fire\";\n\nclass SignupComponent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      signupError: \"\"\n    };\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <main className={classes.main}>\n        <CssBaseline />\n        <Paper className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign Up!\n          </Typography>\n          <form onSubmit={e => this.submitSignup(e)} className={classes.form}>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"signup-email-input\">\n                Enter Your Email\n              </InputLabel>\n              <Input\n                autoComplete=\"email\"\n                autoFocus\n                onChange={e => this.userTyping(\"email\", e)}\n                id=\"signup-email-input\"\n              ></Input>\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"signup-password-input\">\n                Create A Password\n              </InputLabel>\n              <Input\n                type=\"password\"\n                onChange={e => this.userTyping(\"password\", e)}\n                id=\"signup-password-input\"\n              ></Input>\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"signup-password-confirmation-input\">\n                Confirm Your Password\n              </InputLabel>\n              <Input\n                type=\"password\"\n                onChange={e => this.userTyping(\"passwordConfirmation\", e)}\n                id=\"signup-password-confirmation-input\"\n              ></Input>\n            </FormControl>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Submit\n            </Button>\n          </form>\n          {this.state.signupError ? (\n            <Typography\n              className={classes.errorText}\n              component=\"h5\"\n              variant=\"h6\"\n            >\n              {this.state.signupError}\n            </Typography>\n          ) : null}\n          <h4 className={classes.hasAccountHeader}>Already Have An Account?</h4>\n          <Link className={classes.logInLink} to=\"/login\">\n            Log In!\n          </Link>\n        </Paper>\n      </main>\n    );\n  }\n\n  userTyping = (whichInput, event) => {\n    switch (whichInput) {\n      case \"email\":\n        this.setState({ email: event.target.value });\n        break;\n\n      case \"password\":\n        this.setState({ password: event.target.value });\n        break;\n\n      case \"passwordConfirmation\":\n        this.setState({ passwordConfirmation: event.target.value });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  formIsValid = () => this.state.password === this.state.passwordConfirmation;\n\n  submitSignup = e => {\n    e.preventDefault();\n\n    if (!this.formIsValid()) {\n      this.setState({ signupError: \"Passwords do not match\" });\n      return;\n    }\n\n    fire\n      .auth()\n      .createUserWithEmailAndPassword(this.state.email, this.state.password)\n      .then(\n        authRes => {\n          const userObj = {\n            email: authRes.user.email\n          };\n          fire\n            .firestore()\n            .collection(\"users\")\n            .doc(this.state.email)\n            .set(userObj)\n            .then(\n              () => {\n                this.props.history.push(\"/login\");\n                alert(\"Welcome\");\n              },\n              dbErr => {\n                console.log(\"Failed to add user to the database: \", dbErr);\n                this.setState({ signupError: \"Failed to add user\" });\n              }\n            );\n        },\n        authErr => {\n          console.log(\"Failed to create user: \", authErr);\n          this.setState({ signupError: \"Failed to add user\" });\n        }\n      );\n  };\n}\n\nexport default withStyles(styles)(SignupComponent);\n"]},"metadata":{},"sourceType":"module"}