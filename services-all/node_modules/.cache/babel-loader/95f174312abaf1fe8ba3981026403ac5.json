{"ast":null,"code":"import _defineProperty from \"/Users/anian/Desktop/services-all/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/anian/Desktop/services-all/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anian/Desktop/services-all/src/components/Post.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { fire } from \"../config/fire\";\nimport { stat } from \"fs\";\nimport { UserContext } from \"../App\";\nimport \"../styles/post.css\";\n\nfunction Post(props) {\n  let postRef = useRef(fire.firestore().collection(\"posts\").doc(props.id));\n\n  let _useState = useState(\"default\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1],\n      _useState3 = useState({\n    title: props.title,\n    description: props.description\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formData = _useState4[0],\n      setFormData = _useState4[1];\n\n  let user = useContext(UserContext);\n  useEffect(() => {}, [setStatus, setFormData, handleClick]);\n\n  function handleChange(e) {\n    e.preventDefault();\n    let _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setFormData(_objectSpread({}, formData, {\n      [name]: value\n    }));\n  }\n\n  function handleClick(e) {\n    e.stopPropagation();\n\n    switch (e.target.innerText) {\n      case \"cancel\":\n        setFormData({\n          title: props.title,\n          description: props.description\n        });\n        setStatus(\"default\");\n        break;\n\n      case \"edit\":\n        setStatus(\"editing\");\n        break;\n\n      case \"save\":\n        postRef.current.update({\n          title: formData.title,\n          description: formData.description\n        }).then(() => setStatus(\"default\"));\n        break;\n\n      case \"delete\":\n        postRef.current.update({\n          status: \"deleted\"\n        });\n        break;\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, status === \"editing\" ? React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"title-window\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"post-title\",\n    name: \"title\",\n    onChange: handleChange,\n    value: formData.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"description-window\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    className: \"post-description\",\n    name: \"description\",\n    value: formData.description,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })))) : React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"title-window\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"post-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, props.title)), React.createElement(\"div\", {\n    className: \"description-window\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"post-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, props.description))), props.deletable ? React.createElement(React.Fragment, null, React.createElement(\"button\", {\n    onClick: handleClick,\n    value: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, status === \"editing\" ? \"cancel\" : \"delete\"), props.admin ? null : React.createElement(\"button\", {\n    onClick: handleClick,\n    value: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, status === \"editing\" ? \"save\" : \"edit\")) : null);\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/anian/Desktop/services-all/src/components/Post.js"],"names":["React","useState","useRef","useEffect","useContext","fire","stat","UserContext","Post","props","postRef","firestore","collection","doc","id","status","setStatus","title","description","formData","setFormData","user","handleClick","handleChange","e","preventDefault","target","name","value","stopPropagation","innerText","current","update","then","deletable","admin"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { fire } from \"../config/fire\";\nimport { stat } from \"fs\";\nimport { UserContext } from \"../App\";\nimport \"../styles/post.css\";\n\nfunction Post(props) {\n  let postRef = useRef(\n    fire\n      .firestore()\n      .collection(\"posts\")\n      .doc(props.id)\n  );\n  let [status, setStatus] = useState(\"default\"),\n    [formData, setFormData] = useState({\n      title: props.title,\n      description: props.description\n    });\n  let user = useContext(UserContext);\n  useEffect(() => {}, [setStatus, setFormData, handleClick]);\n\n  function handleChange(e) {\n    e.preventDefault();\n    let { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  }\n\n  function handleClick(e) {\n    e.stopPropagation();\n    switch (e.target.innerText) {\n      case \"cancel\":\n        setFormData({\n          title: props.title,\n          description: props.description\n        });\n        setStatus(\"default\");\n        break;\n      case \"edit\":\n        setStatus(\"editing\");\n        break;\n      case \"save\":\n        postRef.current\n          .update({\n            title: formData.title,\n            description: formData.description\n          })\n          .then(() => setStatus(\"default\"));\n\n        break;\n      case \"delete\":\n        postRef.current.update({\n          status: \"deleted\"\n        });\n        break;\n    }\n  }\n  return (\n    <div className=\"post\">\n      {status === \"editing\" ? (\n        <>\n          <form>\n            <div className=\"title-window\">\n              <input\n                className=\"post-title\"\n                name=\"title\"\n                onChange={handleChange}\n                value={formData.title}\n              />\n            </div>\n            <div className=\"description-window\">\n              <textarea\n                className=\"post-description\"\n                name=\"description\"\n                value={formData.description}\n                onChange={handleChange}\n              />\n            </div>\n          </form>\n        </>\n      ) : (\n        <>\n          <div className=\"title-window\">\n            <input className=\"post-title\">{props.title}</input>\n          </div>\n          <div className=\"description-window\">\n            <p className=\"post-description\">{props.description}</p>\n          </div>\n        </>\n      )}\n\n      {props.deletable ? (\n        <>\n          <button onClick={handleClick} value={props.id}>\n            {status === \"editing\" ? \"cancel\" : \"delete\"}\n          </button>\n\n          {props.admin ? null : (\n            <button onClick={handleClick} value={props.id}>\n              {status === \"editing\" ? \"save\" : \"edit\"}\n            </button>\n          )}\n        </>\n      ) : null}\n    </div>\n  );\n}\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}